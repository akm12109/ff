hwidCASWebpackJsonp([19],{"1aQK":function(t,a){},SGzL:function(t,a,i){"use strict";var e=i("GR7J");a.a={mounted:function(){var t=this;this.$options.name&&e.a.$on(this.$options.name,function(a){t[a.func]&&t[a.func](a.params)})},beforeDestroy:function(){this.$options.name&&e.a.$off(this.$options.name)}}},Tyh6:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("Dd8w"),o=i.n(e),n=i("NYxO"),s=i("UkLo"),r=i("iWc0"),l=i("hW/O"),c=i("SGzL"),d={mixins:[s.a,c.a],name:"avatarLogin",data:function(){return{fieldPassword:"fieldPassword",fieldRandom:"fieldRandom",fieldAll:["fieldPassword","fieldRandom"],phoneAccountShow:"",password:"",authCodeParams:{imgCodeObj:{randomCode:""},isImgCodeRight:!1}}},computed:o()({},Object(n.b)("login",["isFullPage"]),{isBtnAble:function(){return""==this.password.trim()}}),watch:{},mounted:function(){this.phoneAccountShow=this.getExpressPhone(this.localInfo.phoneAccount),r.a.sendData("AVATARLOGIN_LOADING");var t=!0===this.localInfo.isOpenLocalCacheRisk||"true"===this.localInfo.isOpenLocalCacheRisk;this.setStatePwdloginData({avatarUserAccount:this.localInfo.phoneAccount,isReReg:this.localInfo.isReReg,isNeedImageCode:t}),this.changeGtCallback()},methods:o()({},Object(n.c)("login",["setLoginTypeObj"]),Object(n.c)("common",["setCompGtCallback"]),{changeGtCallback:function(){this.setCompGtCallback({gtSuccessCallback:this.gtSuccessCallback,gtReadyCallback:this.gtReadyCallback})},errorMsgClickFn:function(t){"error_findPwd"==t.target.className&&this.gotoresetpwd()},submitRemoteLogin:function(t,a,i){var e=this;r.a.sendData("REREGLOGIN_CLICK_SUBMIT"),"true"!=i.currentTarget.getAttribute("isLoading")&&(this.mixinErrorLogin="",t(function(){a(),e.setStatePwdloginData({userAccount:e.localInfo.phoneAccount,password:e.password,anonymousLoginID:e.localInfo.loginID,registerCountry:e.localInfo.rCY}),e.isNeedCaptcha()?e.popCaptcha():(l.a.addLoading("hwid_loading_login_avatar"),e.mixinAjaxRemoteLogin())}))},goPwdLogin:function(){r.a.sendData("REREGLOGIN_CLICK_PWDLOGIN"),this.setStatePwdloginData({isReReg:!1}),this.setLoginTypeObj({currentType:"pwdlogin",preType:"avatarlogin"})},getImgCodeObj:function(t){this.authCodeParams.imgCodeObj=t},getImgCodeStatus:function(t){this.authCodeParams.isImgCodeRight=t},gotoForgetPwd:function(){r.a.sendData("REREGLOGIN_CLICK_FORGETPWD");var t=this.localInfo.findPwdUrl+this.localInfo.urlQurey;this.gotoresetpwd(t)}})},g={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"hwid-avatarlogin-root"},[t.isFullPage?t._e():i("div",{staticClass:"hwid-goto-pwdlogin",on:{click:function(a){return t.goPwdLogin()}}},[t._v("\n    <Â "),i("cas-text",{attrs:{t:"loginAuth_loginIn"}})],1),t._v(" "),i("div",{},[i("div",{staticClass:"hwid-user-info"},[i("img",{staticClass:"hwid-avatar",attrs:{src:t.localInfo.avatarUrl,onerror:"null"}}),t._v(" "),i("p",{staticClass:"hwid-nickName"},[t._v(t._s(t.localInfo.nickName))]),t._v(" "),i("p",{staticClass:"hwid-phone"},[t._v(t._s(t.phoneAccountShow))]),t._v(" "),i("p",{staticClass:"hwid-reg-tip"},[i("cas-text",{attrs:{t:"reg_again_tip"}})],1)]),t._v(" "),i("p",{staticClass:"hwid-twice-errortip"}),t._v(" "),i("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,o=a.dirty,n=a.reset,s=a.handleSubmit;return[i("cas-errorMsg",{class:{"hwid-login-err":!0},attrs:{msg:t.mixinCalculateParentMsg(e,o,t.mixinErrorLogin,t.fieldAll),isHtml:"true"},on:{errorMsgClickFn:t.errorMsgClickFn}}),t._v(" "),i("cas-password",{attrs:{name:"fieldPassword",isHideInlineError:!0,validRules:t.pwdInputRules.verify,propErrorMsg:t.mixinCalculateParentMsg(e,o,t.mixinErrorLogin,t.fieldAll,t.fieldPassword),showEye:!0,HT:"input_avatarlogin_pwd"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.submitRemoteLogin(s,n)}},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}}),t._v(" "),t.statePwdloginData.isNeedImageCode&&"0"==t.localInfo.displayCaptchaType?i("cas-imgCode",{staticClass:"hwid-login-input-wrap hwid-mt-16",attrs:{name:t.fieldRandom,isHideInlineError:!0,validRules:t.randomCodeRules.verify,propErrorMsg:t.mixinCalculateParentMsg(e,o,t.mixinErrorLogin,t.fieldAll,t.fieldRandom),HT:"input_avatarlogin_imgCode"},on:{getImgCodeObj:t.getImgCodeObj,getImgCodeStatus:t.getImgCodeStatus}}):t._e(),t._v(" "),i("div",{directives:[{name:"append",rawName:"v-append",value:t.captchaHtml,expression:"captchaHtml"}],staticClass:"captchaHtml"}),t._v(" "),t.isFullPage?i("div",{staticClass:"hwid-link hwid-link-primary hwid-avatar-link",on:{click:t.gotoForgetPwd}},[i("cas-text",{attrs:{t:"login_forgetpwd_no_punctuation"}})],1):t._e(),t._v(" "),i("cas-button-base",{attrs:{text:"common_login",disabled:t.isBtnAble,type:"loginButton",btName:"hwid_loading_login_avatar",HT:"click_avatarlogin_submitLogin",className:[t.isFullPage,"hwid-btn","hwid-btn-primary","hwid-login-btn","hwid-mt-16"]},nativeOn:{click:function(a){return t.submitRemoteLogin(s,n,a)}}})]}}])})],1)])},staticRenderFns:[]};var u=i("VU/8")(d,g,!1,function(t){i("1aQK")},null,null);a.default=u.exports}});