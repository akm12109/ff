hwidCASWebpackJsonp([18],{SGzL:function(t,i,e){"use strict";var n=e("GR7J");i.a={mounted:function(){var t=this;this.$options.name&&n.a.$on(this.$options.name,function(i){t[i.func]&&t[i.func](i.params)})},beforeDestroy:function(){this.$options.name&&n.a.$off(this.$options.name)}}},Z3uT:function(t,i){},f7iW:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("Xxa5"),o=e.n(n),a=e("exGp"),s=e.n(a),l=e("Dd8w"),r=e.n(l),c=e("NYxO"),d=e("UkLo"),u=e("SGzL"),g=e("nRBv"),p=e("iWc0"),m=e("hW/O"),h={mixins:[d.a,u.a],name:"pwdLogin",data:function(){return{fieldAccount:"fieldAccount",fieldPassword:"fieldPassword",fieldRandom:"fieldRandom",fieldAll:["fieldAccount","fieldPassword","fieldRandom"],password:"",authCodeParams:{imgCodeObj:{randomCode:""},isImgCodeRight:!1},mountedDetectTime:0}},computed:r()({},Object(c.d)("login",["mountedCallback"]),Object(c.b)("login",["isFullPage","isComponent"]),{isBtnAble:function(){return""==this.statePwdloginData.displayUserAccount||""==this.password.trim()},isOpenSMSLogin:function(){return"true"==this.localInfo.isOpenSMSLogin},isOpenDimensionalCode:function(){return"true"===this.localInfo.isOpenDimensionalCode},isShowImgNum:function(){return this.statePwdloginData.isNeedImageCode&&"0"==this.localInfo.displayCaptchaType}}),watch:{isShowImgNum:function(t,i){if(void 0!==i){var e=document.getElementsByClassName("hwid-common-content")[0];if(!this.isFullPage&&e){var n=e.offsetHeight;t?n+=76:n-=76,e.style.height=n+"px"}}}},mounted:function(){p.a.sendData("PWDLOGIN_LOADING"),hwidSDK._decodeHwidsdkUserConfig.geetestOperType="0";var t=!0===this.localInfo.isOpenLocalCacheRisk||"true"===this.localInfo.isOpenLocalCacheRisk;this.setStatePwdloginData({isNeedImageCode:t}),this.changeGtCallback(),this.businessCallback()},methods:r()({},Object(c.c)("login",["setLoginTypeObj","setMountedCallback"]),Object(c.c)("common",["setCompGtCallback"]),{comebackPwdLogin:function(){this.setStatePwdloginData({giveUpBlurEvent:null}),this.changeGtCallback()},changeGtCallback:function(){this.setCompGtCallback({gtSuccessCallback:this.gtSuccessCallback,gtReadyCallback:this.gtReadyCallback})},validateField:function(){return this.$refs.accountInput.validateField()},inputEventFn:function(t){this.statePwdloginData.fromVModel?this.setStatePwdloginData({fromVModel:!1}):this.setStatePwdloginData({norCrossModel:null,displayUserAccount:t,displayIsLoginId:!1})},blurChkRisk:function(){var t=s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.statePwdloginData.displayUserAccount||this.statePwdloginData.displayIsLoginId){t.next=8;break}return this.setUserAccount(),this.setStatePwdloginData({giveUpBlurEvent:!1}),t.next=5,g.a.sleep(50);case 5:if(this.statePwdloginData.giveUpBlurEvent){t.next=8;break}return t.next=8,this.mixinAjaxChkRisk();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),errorMsgClickFn:function(t){"error_findPwd"==t.target.className&&this.gotoresetpwd()},submitRemoteLogin:function(t,i,e){if(void 0===e||void 0===e.currentTarget||"true"!=e.currentTarget.getAttribute("isLoading")){p.a.sendData("PWDLOGIN_CLICK_SUBMIT");var n=this;n.mixinErrorLogin="",t(function(){m.a.addLoading("hwid_loading_login_pwd"),i(),n.autoSubmitRemoteLogin()})}},autoSubmitRemoteLogin:function(){this.setUserAccount();var t={password:this.password};if(this.setStatePwdloginData(t),this.isNeedCaptcha())return this.popCaptcha(),void m.a.removeLoading("hwid_loading_login_pwd");this.mixinAjaxRemoteLogin()},focusPwdInput:function(){var t=this;this.$nextTick(function(){t.$refs.accountInput.focus()})},setUserAccount:function(){this.statePwdloginData.displayIsLoginId||this.setStatePwdloginData({userAccount:this.statePwdloginData.displayUserAccount})},getImgCodeObj:function(t){this.authCodeParams.imgCodeObj=t},getImgCodeStatus:function(t){this.authCodeParams.isImgCodeRight=t},gotoSMS:function(){this.setStatePwdloginData({giveUpBlurEvent:!0}),this.setLoginTypeObj({currentType:"smslogin",preType:"pwdlogin"})},gotoQrLogin:function(){this.setLoginTypeObj({currentType:"qrcodelogin",preType:"pwdlogin"})},goToTargetWithExtInfo:function(t){this.gotoresetpwd(t)},businessCallback:function(){var t=this;this.mountedCallback||(this.mountedDetectTime>=10?this.$nextTick(function(){t.mountedCallback||t.setMountedCallback(!0)}):(this.mountedDetectTime++,null!=document.querySelector("[ht=click_pwdlogin_submitLogin]")?this.$nextTick(function(){t.mountedCallback||t.setMountedCallback(!0)}):setTimeout(function(){t.businessCallback()},500)))}})},f={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hwid-pwdlogin-root"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(i){var n=i.errors,o=i.dirty,a=i.reset,s=i.handleSubmit;return[e("cas-errorMsg",{class:{"hwid-login-err":!t.isFullPage},attrs:{msg:t.mixinCalculateParentMsg(n,o,t.mixinErrorLogin,t.fieldAll),isHtml:"true"},on:{errorMsgClickFn:t.errorMsgClickFn}}),t._v(" "),e("cas-autoFillInput",{ref:"accountInput",staticClass:"hwid-login-input-wrap",attrs:{placeholder:"login_js_hwaccount_id",value:t.statePwdloginData.displayUserAccount,name:t.fieldAccount,isHideInlineError:!0,isAccount:!0,propErrorMsg:t.mixinCalculateParentMsg(n,o,t.mixinErrorLogin,t.fieldAll,t.fieldAccount),validRules:t.textInputRules.loginAccount,HT:"input_pwdlogin_account"},on:{input:t.inputEventFn,blurEvent:t.blurChkRisk},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.submitRemoteLogin(s,a)}}}),t._v(" "),e("cas-password",{staticClass:"hwid-login-input-wrap",attrs:{name:t.fieldPassword,isHideInlineError:!0,propErrorMsg:t.mixinCalculateParentMsg(n,o,t.mixinErrorLogin,t.fieldAll,t.fieldPassword),validRules:t.pwdInputRules.verify,showEye:!0,HT:"input_pwdlogin_pwd"},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.submitRemoteLogin(s,a)}},model:{value:t.password,callback:function(i){t.password=i},expression:"password"}}),t._v(" "),t.statePwdloginData.isNeedImageCode&&"0"==t.localInfo.displayCaptchaType?e("cas-imgCode",{staticClass:"hwid-login-input-wrap",attrs:{name:t.fieldRandom,isHideInlineError:!0,validRules:t.randomCodeRules.verify,propErrorMsg:t.mixinCalculateParentMsg(n,o,t.mixinErrorLogin,t.fieldAll,t.fieldRandom),HT:"input_pwdlogin_imgCode"},on:{getImgCodeObj:t.getImgCodeObj,getImgCodeStatus:t.getImgCodeStatus},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.submitRemoteLogin(s,a)}}}):t._e(),t._v(" "),e("div",{directives:[{name:"append",rawName:"v-append",value:t.captchaHtml,expression:"captchaHtml"}],staticClass:"captchaHtml"}),t._v(" "),t.isOpenSMSLogin?e("span",{staticClass:"hwid-link hwid-link-primary login-change-link smslogin",class:{"smsbtn-max-width":t.isComponent&&t.isOpenDimensionalCode},attrs:{HT:"click_pwdlogin_toSmsLogin"},on:{click:function(i){return t.gotoSMS()}}},[e("cas-text",{attrs:{t:"login_label_smsvalidLoad"}})],1):t._e(),t._v(" "),e("span",[t.isComponent&&t.isOpenDimensionalCode?e("span",{staticClass:"hwid-link hwid-link-primary login-change-link qrcode float-right",attrs:{HT:"click_pwdLogin_loginQR"},on:{click:function(i){return t.gotoQrLogin()}}},[e("cas-text",{attrs:{t:"login_dialog_qrCodeLogin"}})],1):t._e()]),t._v(" "),e("div",{staticClass:"hwid-login-btn-wrap"},[e("cas-button-base",{attrs:{text:"common_login",disabled:t.isBtnAble,type:"loginButton",btName:"hwid_loading_login_pwd",HT:"click_pwdlogin_submitLogin",className:[t.isFullPage,"hwid-btn","hwid-btn-primary","hwid-login-btn"]},nativeOn:{click:function(i){return t.submitRemoteLogin(s,a,i)}}})],1)]}}])})],1)},staticRenderFns:[]};var w=e("VU/8")(h,f,!1,function(t){e("Z3uT")},null,null);i.default=w.exports}});